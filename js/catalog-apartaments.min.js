!function(){let e=document.querySelector("body"),t=document.querySelector(".catalog-apartaments__filter-button"),i=document.querySelector(".popup-filter"),n=i.querySelector(".popup-content"),c=i.querySelector(".catalog-apartaments__filter"),l=i.querySelector(".filter__close"),o=function(){e.classList.remove("body-lock"),c.classList.remove("popup-inner-animation"),i.classList.remove("popup-animation");setTimeout((function(){i.classList.add("popup-filter--close")}),300);document.removeEventListener("keydown",a)},a=function(e){"Escape"==e.code&&o()};l.addEventListener("click",o),l.addEventListener("keyDown",(function(e){"Enter"==e.code&&o()})),n.addEventListener("click",(function(e){e.target==n&&o()}));let u=function(){e.classList.add("body-lock"),i.classList.remove("popup-filter--close");setTimeout((function(){c.classList.add("popup-inner-animation"),i.classList.add("popup-animation")}),50);document.addEventListener("keydown",a)};t.addEventListener("click",u),t.addEventListener("keydown",(function(e){"Enter"==e.code&&u()}));let r=[{class:"econom",title:"Эконом",photo:{catalog:"catalog-econom.jpg"},sizes:{width:90,depth:70,height:180},equipment:[{equipmentName:"empty",equipmentTitle:"Пустой номер"}],price:100},{class:"econom plus",title:"Эконом плюс",photo:{catalog:"catalog-econom-plus.jpg"},sizes:{width:90,depth:100,height:180},equipment:[{equipmentName:"sunbed",equipmentTitle:"Лежак"},{equipmentName:"scratching",equipmentTitle:"Когтеточка"}],price:200},{class:"comfort",title:"Комфорт",photo:{catalog:"catalog-comfort.jpg"},sizes:{width:100,depth:125,height:180},equipment:[{equipmentName:"sunbed",equipmentTitle:"Лежак"},{equipmentName:"scratching",equipmentTitle:"Когтеточка"},{equipmentName:"game-complex",equipmentTitle:"Игровой комплекс - 3 яруса"}],price:250},{class:"suite",title:"Сьют",photo:{catalog:"catalog-suite.jpg"},sizes:{width:125,depth:125,height:180},equipment:[{equipmentName:"sunbed",equipmentTitle:"Лежак"},{equipmentName:"scratching",equipmentTitle:"Когтеточка"},{equipmentName:"game-complex",equipmentTitle:"Игровой комплекс - 3 яруса"}],price:350},{class:"luxury",title:"Люкс",photo:{catalog:"catalog-luxury.jpg"},sizes:{width:160,depth:160,height:180},equipment:[{equipmentName:"sunbed",equipmentTitle:"Лежак"},{equipmentName:"scratching",equipmentTitle:"Когтеточка"},{equipmentName:"game-complex",equipmentTitle:"Игровой комплекс - 3 яруса"},{equipmentName:"lodge",equipmentTitle:"Домик"}],price:500},{class:"super luxury",title:"Супер-Люкс",photo:{catalog:"catalog-super-luxury.jpg"},sizes:{width:180,depth:160,height:180},equipment:[{equipmentName:"sunbed",equipmentTitle:"Лежак"},{equipmentName:"scratching",equipmentTitle:"Когтеточка"},{equipmentName:"game-complex",equipmentTitle:"Игровой комплекс - 3 яруса"},{equipmentName:"lodge",equipmentTitle:"Домик"}],price:600}];r.forEach((function(e){e.sizes.area=parseFloat((e.sizes.width*e.sizes.depth/1e4).toFixed(2))}));let s=document.querySelector(".custom-select"),m=s.querySelector(".custom-select__current"),p=s.querySelector(".custom-select__list"),d=document.querySelector(".catalog-apartaments__list"),q=document.querySelector("#catalog-item-template").content.querySelector(".catalog-item").cloneNode(!0),g=function(e){let t=document.createDocumentFragment();t=q.cloneNode(!0);let i=t.querySelector(".catalog-item__image"),n=t.querySelector(".catalog-item__title"),c=t.querySelector(".catalog-item__size"),l=t.querySelector(".catalog-item__area"),o=t.querySelector(".equipment-list"),a=t.querySelector(".catalog-item__price"),u=t.querySelector(".catalog-item__link");i.src="img/apartaments-catalog/catalog-list/"+e.photo.catalog,i.setAttribute("loading","lazy"),i.alt+=" "+e.title,n.textContent=e.title,c.textContent=`${e.sizes.width}x${e.sizes.depth}x${e.sizes.height}`,l.textContent=""+(e.sizes.width*e.sizes.depth/1e4).toFixed(2),a.textContent=""+e.price,u.setAttribute("href","room.html");for(let t=0;t<e.equipment.length;t++){let i=document.createElement("li");i.classList.add("equipment-list__item");let n=document.createElement("img");n.classList.add("equipment-list__image");let c=document.createElement("p");c.classList.add("equipment-list__title"),n.src=`img/apartaments-catalog/equipment-icon/equipment-icon-${e.equipment[t].equipmentName}.svg`,i.appendChild(n),c.textContent=""+e.equipment[t].equipmentTitle,i.appendChild(c),o.appendChild(i)}d.appendChild(t)},h=function(e){d.querySelectorAll(".catalog-apartaments__item").forEach((e=>{d.removeChild(e)}));let t=m.querySelector(".custom-select__item").getAttribute("data-value");"area-up"==t&&e.sort((function(e,t){return e.sizes.area-t.sizes.area})),"area-down"==t&&e.sort((function(e,t){return t.sizes.area-e.sizes.area})),"price-up"==t&&e.sort((function(e,t){return e.price-t.price})),"price-down"==t&&e.sort((function(e,t){return t.price-e.price})),function(e){for(let t=0;t<e.length;t++)g(e[t])}(e)};h(r);let f=document.querySelector(".filter__form"),_=f.querySelector(".filter-buttons__apply"),y=f.querySelector(".filter-buttons__reset"),v=f.querySelectorAll(".price-input");_.addEventListener("click",(function(e){e.preventDefault();let t=r.slice(),i=[];(v[0].value||v[1].value)&&(i=t.filter((function(e){return v[0].value&&!v[1].value?e.price>=v[0].value:v[1].value&&!v[0].value?e.price<=v[1].value:v[0].value&&v[1].value?e.price>=v[0].value&&e.price<=v[1].value:void 0})),t=i.slice());let n=f.querySelectorAll(".filter__area .filter__input:checked");n.length>0&&(i=[],n.forEach((function(e){t.forEach((function(t){e.value==t.sizes.area&&i.push(t)}))})),t=i.slice());let c=f.querySelectorAll(".filter__equipment .filter__input:checked");c.length>0&&(i=[],i=t.filter((function(e){let t=[];if(e.equipment.forEach((function(e){c.forEach((function(i){e.equipmentName==i.value&&t.push(1)}))})),t.length==c.length)return e})),t=i.slice()),h(t),document.querySelector(".popup-filter").classList.contains("popup-filter--close")||o()})),y.addEventListener("click",(function(){h(r)}));let L=function(){s.classList.remove("custom-select--open"),p.classList.add("custom-select__list--hidden")},E=function(e){"Escape"==e.code&&L()},S=function(e){if(e.target.classList.contains("custom-select__item")){let t=e.target.cloneNode(!0);t.removeAttribute("tabindex"),m.removeChild(m.querySelector(".custom-select__item")),m.appendChild(t);let i=d.querySelectorAll(".catalog-apartaments__item"),n=[];i.forEach((function(e){r.forEach((function(t){e.querySelector(".catalog-item__title").textContent==t.title&&n.push(t)}))})),h(n)}},k=function(){s.classList.toggle("custom-select--open"),p.classList.toggle("custom-select__list--hidden"),p.addEventListener("click",S),p.addEventListener("keydown",(function(e){"Enter"==e.code&&S(e)})),s.classList.contains("custom-select--open")?(document.addEventListener("keydown",E),document.addEventListener("click",(function(e){e.target.classList.contains("custom-select__item")||L()}))):document.removeEventListener("keydown",E)};s.addEventListener("click",k),s.addEventListener("keydown",(function(e){"Enter"==e.code&&k()})),document.querySelector(".bunner__button").addEventListener("click",(function(){let e=r.filter((function(e){return"luxury"==e.class||"super luxury"==e.class}));h(e);let t=document.querySelector(".catalog-apartaments__list").offsetTop;window.scroll(0,t)}))}();